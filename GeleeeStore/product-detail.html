<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detail Produk - Geleee Store</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1><a href="index.html" style="color: #fff; text-decoration: none;">Geleee Store</a></h1>
        <div class="search-container">
            <input type="text" id="search-input" placeholder="Cari produk knalpot..." />
            <button id="search-btn">üîç</button>
        </div>
        <nav>
            <button id="cart-btn" aria-label="Buka keranjang belanja">Cart (<span id="cart-count">0</span>)</button>
        </nav>
    </header>
    
    <main>
        <div class="breadcrumb">
            <a href="index.html">Beranda</a> > 
            <span id="product-breadcrumb">Detail Produk</span>
        </div>
        <div class="product-detail-container">
            <div class="product-detail">
                <div class="product-image-section">
                    <img id="product-image" src="" alt="" class="detail-product-img">
                </div>
                <div class="product-info-section">
                    <h1 id="product-name"></h1>
                    <div class="product-rating">
                        <span id="product-stars"></span>
                        <span id="product-rating-text"></span>
                    </div>
                    <div class="product-price">
                        <span id="product-price"></span>
                    </div>
                    <div class="product-description">
                        <h3>Deskripsi Produk</h3>
                        <p id="product-description-text"></p>
                    </div>
                    <div class="product-actions">
                        <button id="add-to-cart-btn" class="primary-btn">Tambah ke Keranjang</button>
                        <button id="buy-now-btn" class="secondary-btn">Beli Sekarang</button>
                    </div>
                </div>
            </div>
            
            <div class="testimonials-section">
                <h2>Testimoni Pembeli</h2>
                
                <!-- Filter Testimoni -->
                <div class="testimonial-filters">
                    <div class="filter-group">
                        <label>Filter Rating:</label>
                        <div class="rating-filters">
                            <button class="rating-filter-btn active" data-rating="all">Semua</button>
                            <button class="rating-filter-btn" data-rating="5">5 ‚≠ê</button>
                            <button class="rating-filter-btn" data-rating="4">4 ‚≠ê</button>
                            <button class="rating-filter-btn" data-rating="3">3 ‚≠ê</button>
                            <button class="rating-filter-btn" data-rating="2">2 ‚≠ê</button>
                            <button class="rating-filter-btn" data-rating="1">1 ‚≠ê</button>
                        </div>
                    </div>
                    
                    <div class="filter-group">
                        <label>Urutkan:</label>
                        <select id="testimonial-sort" class="testimonial-sort-select">
                            <option value="newest">Terbaru</option>
                            <option value="oldest">Terlama</option>
                            <option value="highest-rating">Rating Tertinggi</option>
                            <option value="lowest-rating">Rating Terendah</option>
                            <option value="most-helpful">Paling Bermanfaat</option>
                        </select>
                    </div>
                    
                    <div class="filter-group">
                        <label>Fitur:</label>
                        <div class="feature-filters">
                            <label class="checkbox-label">
                                <input type="checkbox" id="verified-only" class="feature-checkbox">
                                <span>Pembeli Terverifikasi</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" id="with-images" class="feature-checkbox">
                                <span>Dengan Foto</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" id="with-reply" class="feature-checkbox">
                                <span>Ada Reply Seller</span>
                            </label>
                        </div>
                    </div>
                </div>
                
                <!-- Statistik Testimoni -->
                <div class="testimonial-stats">
                    <div class="stats-summary">
                        <span id="total-reviews">0</span> ulasan
                    </div>
                    <div class="rating-distribution" id="rating-distribution">
                        <!-- Rating distribution akan diisi oleh JavaScript -->
                    </div>
                </div>
                
                <div id="testimonials-list" class="testimonials-grid">
                    <!-- Testimoni akan dimuat di sini -->
                </div>
            </div>
        </div>
        
        <!-- Cart Overlay -->
        <div id="cart-overlay" class="cart-overlay"></div>
        
        <aside id="cart" class="cart">
            <div class="cart-header">
                <h2>Keranjang Belanja</h2>
                <button id="close-cart" class="cart-close-btn" title="Tutup">&times;</button>
            </div>
            <div class="cart-body">
                <ul id="cart-items"></ul>
            </div>
            <div class="cart-footer">
                <p>Total: <span id="cart-total">Rp0</span></p>
                <button id="checkout-btn">Checkout</button>
                <button id="start-shopping-btn" style="display:none">Mulai Belanja</button>
            </div>
        </aside>
    </main>
    
    <footer>
        <p>&copy; 2025 Geleee Store</p>
    </footer>
    
    <!-- Back to Top Button -->
    <button id="back-to-top" class="back-to-top-btn" title="Kembali ke atas">
        ‚Üë
    </button>
    
    <script src="product-detail.js"></script>
    <script>
        // Auth Guard - Check login before showing content
        window.addEventListener('load', function() {
            const user = JSON.parse(localStorage.getItem('geleeeUser') || '{}');
            if (!user.isLoggedIn) {
                // Redirect to login if not logged in
                const urlParams = new URLSearchParams(window.location.search);
                const productId = urlParams.get('id');
                if (productId) {
                    window.location.href = `login.html?redirect=product&productId=${productId}`;
                } else {
                    window.location.href = 'login.html?redirect=product';
                }
            }
        });
    </script>
</body>
</html> 